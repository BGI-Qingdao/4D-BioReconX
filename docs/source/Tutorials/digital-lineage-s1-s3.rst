.. _`digital-lineage-`:
========================================
Digital Lineage Tracing Pipeline
========================================

workflow
----------------------------------------

Step 01
++++++++++++++++++++++++++++++++++++++++

**for each pair of time points,**

a) calculate the similarity array for each pair of cells between those two datasets 

b) save the closest cell in another dataset for every cell.

Usage   : 

python3 s01.CellCor.py  <-i in.lst> [-o output folder, default ./]

example of in.lst
****************************************

  time0

  time1

  time2

  time3


and we will load time0.h5ad, time1.h5ad, time2.h5ad, time3.h5ad.


Step 02:
++++++++++++++++++++++++++++++++++++++++

**for each pair of time points, calculate the mapping number of cells for all clusters.**

Usage: 

python3 s02.get_number_anno.py  <-i in.lst> [-o output folder, default ./]

we will load time0.h5ad, time1.h5ad, time2.h5ad, time3.h5ad.
and data generated by s01 in output folder!


Step 03
++++++++++++++++++++++++++++++++++++++++

**filter weak connections.**

Usage: 

python3 s02.filter.py [-f filter threshold, default 0.05] [-o output folder, default ./]

we will load data generated by s02 in output folder!


Step 04
++++++++++++++++++++++++++++++++++++++++

**plot the final sankey plot.**

.. card:: Sankey Plot
    :octicon:`book;1em;`
    :link: digital-lineage-s4
    :link-type: doc
